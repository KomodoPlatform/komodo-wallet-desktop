# [![AtomicDEX](https://i.ibb.co/D5GJLWy/adex.png)](https://atomicdex.io)

[![Discord](https://img.shields.io/discord/302123079818149888.svg?style=for-the-badge&logo=discord)](https://discord.gg/tvp96Gf)
[![GitHub license](https://img.shields.io/github/license/KomodoPlatform/atomicDEX-Desktop?style=for-the-badge)](https://raw.githubusercontent.com/KomodoPlatform/atomicDEX-Desktop/master/LICENSE)
[![GitHub All Releases](https://img.shields.io/github/downloads/KomodoPlatform/atomicDEX-Desktop/total?style=for-the-badge)](https://github.com/KomodoPlatform/atomicDEX-Desktop/releases) <br/>
[![Website](https://img.shields.io/website?down_message=offline&style=for-the-badge&up_message=online&url=https%3A%2F%2Fatomicdex.io%2F)](https://atomicdex.io/)
[![GitHub issues](https://img.shields.io/github/issues-raw/KomodoPlatform/atomicDEX-Desktop?style=for-the-badge)](https://github.com/KomodoPlatform/atomicdex-desktop/issues)
[![PRs](https://img.shields.io/github/issues-pr-closed/komodoplatform/atomicdex-desktop?style=for-the-badge)](https://github.com/KomodoPlatform/atomicdex-desktop/pulls) <br/>
[![Commits](https://img.shields.io/github/commit-activity/y/komodoplatform/atomicdex-desktop?style=for-the-badge)](https://github.com/KomodoPlatform/atomicdex-desktop/commits/dev)
[![Contributors](https://img.shields.io/github/contributors/komodoplatform/atomicdex-desktop?style=for-the-badge)](https://github.com/KomodoPlatform/atomicdex-desktop/graphs/contributors)
[![Last Commit](https://img.shields.io/github/last-commit/komodoplatform/atomicdex-desktop/dev?style=for-the-badge)](https://github.com/KomodoPlatform/atomicdex-desktop/graphs/commit-activity) <br/>
[![gitstars](https://img.shields.io/github/stars/KomodoPlatform/atomicDEX-Desktop?style=social)](https://github.com/KomodoPlatform/atomicdex-desktop/stargazers)
[![twitter](https://img.shields.io/twitter/follow/atomicdex?style=social)](https://twitter.com/atomicdex)

[![atomicDEX Gif](https://i.imgur.com/kxkOQ5v.gif)](https://atomicdex.io)

## CI/CD status

| CI/CD Names | Status |
|-------------|--------|
| Windows/Linux/macOS  | [![GitHub All Releases](https://img.shields.io/github/workflow/status/KomodoPlatform/atomicDEX-Desktop/AtomicDex-Desktop%20CI/master?style=for-the-badge)](https://github.com/KomodoPlatform/atomicDEX-Desktop/actions) |

## Useful links

- :book: [AtomicDEX Documentation](https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/introduction-to-atomicdex.html)
- :link: [AtomicDEX Website](https://atomicdex.io/)
- :speech_balloon: [AtomicDEX Discord](https://discord.gg/tvp96Gf)
- :hammer_and_wrench: [AtomicDEX Development Boards](https://github.com/KomodoPlatform/atomicDEX-Desktop/projects)

## What is AtomicDEX?

AtomicDEX is a secure wallet and non-custodial decentralized exchange rolled into one application. Store your coins, trade peer-to-peer with minimal fees and never give up control over your digital assets.

## On which platforms can I use AtomicDEX Desktop?

AtomicDEX Desktop has been tested on the following platforms:

- Windows 10
- Linux (Ubuntu 18.04)
- macOS (10.13 - 10.15.7)


## Get Started

You can [download](https://github.com/KomodoPlatform/atomicDEX-Desktop/releases) the pre-built <b>beta</b> binaries on our [GitHub release page](https://github.com/KomodoPlatform/atomicDEX-Desktop/releases).

Please join our [Discord Server](https://komodoplatform.com/discord) discussions around AtomicDEX and general UI/UX feedback.

## AtomicDEX mobile

Check out AtomicDEX mobile, available for [Android and iOS](https://atomicdex.io) [![atomicDEX mobile](https://s5.gifyu.com/images/atomicdex_animation_small2.gif)](https://atomicdex.io)

## License

For details please refer to our [license](https://github.com/KomodoPlatform/atomicDEX-Desktop/blob/master/LICENSE).

This is experimental alpha software - use at your own risk!

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

## Self-Hosted Dependencies

| Dependencies  | Version       | Description                                                                                                                                     | Categories          |
|---------------|---------------|-------------------------------------------------------------------------------------------------------------------------------------------------|---------------------|
| boost         | 1.74          | Boost provides free peer-reviewed portable C++ source libraries.                                                                                | General Programming |
| zstd          | 1.4.5         | Zstandard - Fast real-time compression algorithm                                                                                                | Compression         |
| zlib          | 1.2.11        | A massively spiffy yet delicately unobtrusive compression library.                                                                              | Compression         |
| doctest       | 2.3.4         | The fastest feature-rich C++11/14/17/20 single-header testing framework                                                                         | Testing             |
| fmt           | 6.0.0         | A modern formatting library                                                                                                                     | Formatting          |
| nlohmann_json | 3.9.1         | JSON for Modern C++                                                                                                                             | Parsing             |
| range-v3      | 0.11.0        | Range library for C++14/17/20, basis for C++20's std::ranges                                                                                    | Algorithm           |
| date          | 3.0.0         | A date and time library based on the C++11/14/17 <chrono> header                                                                                | Timezone/Calendar   |
| folly         | 2019.10.21.00 | An open-source C++ library developed and used at Facebook.                                                                                      | Threading           |
| spdlog        | 1.8.0         | Fast C++ logging library.                                                                                                                       | Logging             |
| openssl       | 1.1.1h        | TLS/SSL and crypto library                                                                                                                      | Network/Crypto      |
| entt          | 3.3.2         | Gaming meets modern C++ - a fast and reliable entity component system (ECS) and much more                                                       | Architecture        |
| cpprestsdk    | 2.10.16       | The C++ REST SDK is a Microsoft project for cloud-based client-server  communication in native code using a modern asynchronous C++ API design. | HTTP                |
| taskflow      | 2.5.0         | Parallel and Heterogeneous Task Programming in Modern C++                                                                                       | Threading           |
| qt            | 5.15.0        | Qt is a cross-platform application development framework for desktop, embedded and mobile.                                                      | GUI                 |
| reproc        | 13.0.1        | A cross-platform (C99/C++11) process library                                                                                                    | Process             |
| qzxing        | HEAD          | Qt/QML wrapper library for the ZXing library. 1D/2D barcode image processing library                                                            | QR                  |

## How do I build it?

### Prerequisites

- Visual Studio 2019 (Windows) with [Desktop development with C++](https://docs.microsoft.com/en-gb/cpp/build/vscpp-step-0-installation?view=vs-2019).
- Clang C++ 17 compiler (clang-8 minimum)
    - on macOS Catalina, Apple Clang 12.0 is picked by default 
- CMake 3.14 minimum (https://cmake.org/download/)

## Install Requirements

### Install QT

PS: This step is obsolete if you want to use [conan](https://conan.io/)

Follow the [QT installation (5.15) instructions](https://www.qt.io/download).

#### Install Windows requirements

In your powershell (as admin) execute: 

```
Set-ExecutionPolicy RemoteSigned -scope CurrentUser
Invoke-Expression (New-Object System.Net.WebClient).DownloadString('https://get.scoop.sh')

scoop install nim --global
scoop install llvm --global
scoop install ninja --global
scoop install cmake --global
scoop install git --global
```

- Next, add a `QT_INSTALL_CMAKE_PATH` environment variable pointing to the msvc_2019x64 location

e.g.: `$Env:QT_INSTALL_CMAKE_PATH = "C:\Qt\5.15.0\msvc2019_64"`

### Install macOS requirements

Ensure you have [brew](https://brew.sh) and the macOS [command line tools](https://developer.apple.com/downloads) installed.

```shell
brew install nim cmake ninja git gcc autoconf automake libtool
```

Installing OSX SDK's (optional if you want to build for older systems):

```bash
git clone https://github.com/phracker/MacOSX-SDKs.git ~/MacOSX-SDKs
export CPPFLAGS="-isysroot $HOME/MacOSX-SDKs/MacOSX10.13.sdk/"
```

Installing wally:

```bash
git clone https://github.com/KomodoPlatform/libwally-core.git
cd libwally-core
./tools/autogen.sh
./configure --disable-shared
sudo make -j2 install
```

PS: The end of step is obsolete if you want to use [conan](https://conan.io/)

Installing curl:

```bash
git clone https://github.com/curl/curl.git
cd curl
git checkout curl-7_70_0
./buildconf
./configure --disable-shared --enable-static --without-libidn2 -without-ssl --disable-ldap --with-darwinssl
make install
```

Add the following environment variables to your `~/.bashrc` or `~/.zshrc` profile:
 * `QT_INSTALL_CMAKE_PATH` equal to the CMake QT path
 * `QT_ROOT` equal to the QT root installation folder

e.g.:

```bash
export QT_INSTALL_CMAKE_PATH=/Users/SatoshiNakamoto/Qt/5.15.0/clang_64/lib/cmake
export QT_ROOT=/Users/SatoshiNakamoto/Qt/5.15.0
```

### Install Linux dependencies

In your terminal (shell,...) execute:

```shell
sudo apt-get install -y ninja-build cmake git gcc-9 g++-9

curl https://nim-lang.org/choosenim/init.sh -sSf | sh

# get llvm
wget https://apt.llvm.org/llvm.sh
chmod +x llvm.sh
sudo ./llvm.sh 10

# set clang version
sudo update-alternatives --install /usr/bin/clang++ clang++ /usr/bin/clang++-10 777
sudo update-alternatives --install /usr/bin/clang clang /usr/bin/clang-10 777
sudo apt-get update
sudo apt-get install libc++abi-10-dev libc++-10-dev -y
export CXXFLAGS=-stdlib=libc++
export LDFLAGS=-stdlib=libc++
export CXX=clang++-10
export CC=clang-10

git clone https://github.com/KomodoPlatform/libwally-core.git
cd libwally-core
./tools/autogen.sh
./configure --disable-shared
sudo make -j2 install
```

PS: The end of step is obsolete if you want to use [conan](https://conan.io/)

Add the following environment variables to your `~/.bashrc` or `~/.zshrc` profiles:
 * `QT_INSTALL_CMAKE_PATH` equal to the CMake QT path
 * `QT_ROOT` equal to the QT root installation folder

e.g.:
```bash
export QT_INSTALL_CMAKE_PATH=~/Qt/5.15.0/gcc/lib/cmake
export QT_ROOT=~/Qt/5.15.0
```

## Set Nim official packages list to our fork packages list (optional)

```
nimble refresh https://raw.githubusercontent.com/KomodoPlatform/nim_kmd_package_list/master/packages.json
cd ~/.nimble
mv packages_commandline.json packages_official.json
cd -
```

## Build AtomicDEX Desktop (With the CI Tools)

Please clone with submodules initialization: `git clone --recurse-submodules --remote-submodules https://github.com/KomodoPlatform/atomicDEX-Desktop.git`

Install vcpkg from within the `ci_tools_atomic_dex` folder:

```
nimble build
cd vcpkg-repo
# Windows
.\bootstrap-vcpkg.bat
# Linux / OSX
./bootstrap-vcpkg.sh
cd -
```

### Windows

In your x64 Visual Studio command prompt, from within the `ci_tools_atomic_dex` folder, type:

```bash
nimble build
./ci_tools_atomic_dex.exe build release
./ci_tools_atomic_dex.exe build debug
```

### macOS & Linux

In your command line, from within the `ci_tools_atomic_dex`, run:

```bash
nimble build
./ci_tools_atomic_dex build debug
./ci_tools_atomic_dex build release
```

## Bundle AtomicDEX Desktop (With the CI tools)

### Windows

In your x64 Visual Studio command prompt, from within the `ci_tools_atomic_dex` folder, type:

```
nimble build
ci_tools_atomic_dex.exe build release
ci_tools_atomic_dex.exe bundle release
ci_tools_atomic_dex.exe build debug
ci_tools_atomic_dex.exe bundle debug
```

### OSX

In your command line, from within the `ci_tools_atomic_dex`, run:

```
nimble build
./ci_tools_atomic_dex bundle release
./ci_tools_atomic_dex bundle debug
```

## Build + Bundle AtomicDEX Desktop (With CMake + Conan)

Please clone without submodules initialization: `git clone https://github.com/KomodoPlatform/atomicDEX-Desktop.git`

In your command line, from within the `atomicDEX-Desktop`, run:

```bash
pip install conan
mkdir build
cd build

# On Linux
export CXX=clang++-10
export CC=clang-10

conan remote add bincrafters https://api.bintray.com/conan/bincrafters/public-conan

# Here you can replace by another profile depending on your plaftorm or use a default one
conan install --profile ../conan_profiles/osx_clang_release --build=missing ../

## On Linux/OSX
cmake  -DCMAKE_BUILD_TYPE=Release ../

## On Windows
cmake -GNMake -DCMAKE_BUILD_TYPE=Release -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_C_COMPILER=clang ../

## If you want to build
make

## If you want to bundle
make install
```

## Contributors / Thanks

<table>
  <tr>
    <td align="center"><a href="https://github.com/Milerius"><img src="https://avatars1.githubusercontent.com/u/21139416?s=400&u=12e0a99353ae95365801542b85e2fd69abd44a81&v=4" width="100px;" alt="Milerius"/><br /><sub><b>Milerius</b></sub></a><br /><a href="https://github.com/KomodoPlatform/AtomicDex-Desktop/commits?author=Milerius" title="Lead Back-End Dev / Code">‚úçÔ∏èüíª</a></td>
    <td align="center"><a href="https://github.com/naezith"><img src="https://avatars2.githubusercontent.com/u/6732486?s=400&u=5d242e560be002ad4af597dd284eb3242ab28016&v=4" width="100px;" alt="naezith"/><br /><sub><b>naezith</b></sub></a><br /><a href="https://github.com/KomodoPlatform/AtomicDex-Desktop/commits?author=naezith" title="Lead Front-End Dev / Code">‚úçÔ∏èüíª</a></td>
    <td align="center"><a href="https://github.com/tonymorony"><img src="https://avatars3.githubusercontent.com/u/24797699?s=400&u=335984bcb93856f260ac6d139b18f0c596306e08&v=4" width="100px;" alt="Anton TonyL Lysakov"/><br /><sub><b>Anton "TonyL" Lysakov</b></sub></a><br /><a href="https://github.com/KomodoPlatform/AtomicDex-Desktop/commits?author=tonymorony" title="Lead QA / CI">üõ†üíª</a></td>
  </tr>
  <tr>
    
  </tr>
</table>
